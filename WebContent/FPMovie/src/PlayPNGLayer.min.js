//å±‚
var PlayPNGLayer=cc.Layer.extend({bgSprite:null,index:0,spriteQueue:new ArrayQueue,playPng:function(){this.index=0;this.schedule_update()},ctor:function(){this._super();this.playPng();return!0},addMovieItem:function(a,b){G_register_Loader.regImgLoader(a.path);var c=new cc.Sprite(a.path),d=cc.winSize;c.attr({x:d.width/2,y:d.height/2,opacity:0,rotation:0});this.addChild(c,b);this.addTitle(a,b);this.modMovieItem(3,c)},modMovieItem:function(a,b){var c=this;PlayPNGService.getAction().runAction(b,function(){c.schedule_update();c.schedule_delete_Sprite(b)})},title_bg:null,title_Label:null,addTitle:function(a){a=a.note;if(null==a)this.title_bg&&this.title_bg.attr({opacity:0}),this.title_Label&&this.title_Label.attr({opacity:0});else{null==this.title_bg&&(this.title_bg=new cc.Sprite(res.text_bg),this.title_bg.attr({anchorX:0,anchorY:0,x:0,y:0,scaleX:640,scaleY:180,opacity:125}),this.addChild(this.title_bg));var b=G_Tools.getStringSplitNumArr(a,18);a=b.join("\n");this.title_bg.attr({scaleY:35*b.length+15,opacity:125});null==this.title_Label?(this.title_Label=new cc.Sprite(res.text_bg),this.title_Label=new cc.LabelTTF(a,"Arial",30),this.title_Label.setContentSize(560,150),this.title_Label.attr({anchorX:0,anchorY:0,x:40,y:0}),this.addChild(this.title_Label)):(this.title_Label.setString(a),this.title_Label.attr({opacity:255}))}},schedule_delete_Sprite:function(a){a&&a.runAction(cc.sequence(cc.FadeTo.create(1,0),cc.callFunc(function(){a.removeFromParent()})))},schedule_update:function(){var a=getFPMovie.list.data;this.index<a.length?(this.addMovieItem(a[this.index],this.index),this.index++):ToolbarControl.gameEnd()}});